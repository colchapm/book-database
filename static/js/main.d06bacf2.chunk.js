(this["webpackJsonpbook-database"]=this["webpackJsonpbook-database"]||[]).push([[0],{48:function(e,t,a){e.exports=a.p+"static/media/bookboxcover.068cb611.png"},52:function(e,t,a){e.exports=a(63)},57:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(5),o=a.n(n),l=a(47),c=a.n(l),r=(a(57),a(11)),s=a(48),i=a.n(s);var u=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"header_page"},o.a.createElement("img",{className:"photo",src:i.a,alt:"book covers"}),o.a.createElement("p",{className:"header_subtext1"},"track books you've read."),o.a.createElement("p",{className:"header_subtext2"},"save those you want to read.")))},m=a(1),b=a(4),E=a(7),v=a(8);var d=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"border"},o.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=t.target.title.value;e.onTitleSearch(a)}},o.a.createElement("input",{type:"text",name:"title",placeholder:"enter book title"}),o.a.createElement("button",{className:"button",type:"submit"},"Search"))))};var f=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("hr",null),o.a.createElement("h3",{className:"header_subtext"},"Search Results"),o.a.createElement("ul",null,e.searchResultList.map((function(t,a){return o.a.createElement("li",{className:"search_li_no_bullets",key:a},o.a.createElement("p",{className:"search_book_title_text"},t.volumeInfo.title),o.a.createElement("p",{className:"search_book_author_text"},"Author(s): ",t.volumeInfo.authors),o.a.createElement("p",{className:"search_book_author_text"},"Genre: ",t.volumeInfo.categories),o.a.createElement("p",{className:"search_book_author_text"},"Average Rating: ",void 0===t.volumeInfo.averageRating?"No Ratings Available":t.volumeInfo.averageRating," "),o.a.createElement("a",{style:{display:"table-cell"},href:t.volumeInfo.infoLink,target:"_blank",rel:"noopener noreferrer"}," ",o.a.createElement("img",{src:void 0===t.volumeInfo.imageLinks?"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQXhzNKj_YNwD8fENvC1wGMxq6_zUxI1FmLvQ&usqp=CAU":t.volumeInfo.imageLinks.thumbnail,alt:"book cover thumbnail"})," "),o.a.createElement("button",{className:"book_button",onClick:function(){return a=t,void e.onSavingBook(a);var a}},"Add To Readlist"),o.a.createElement("button",{className:"book_button",onClick:function(){return a=t,void e.onMarkingBookAsRead(a);var a}},"Mark As Read"),console.log(t.id))}))))},p=function(e){Object(E.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).makeGoogleApiCall=function(e){fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(e,"&key=").concat("AIzaSyCDZQAJ_iOhjzcmzXG2vwPCMDuHpljW4bc")).then((function(e){return e.json()})).then((function(e){n.setState({isApiLoaded:!0,bookData:e.items})})).catch((function(e){n.setState({isApiLoaded:!0,error:e})}))},n.handleSearch=function(e){n.setState({title:e}),n.makeGoogleApiCall(e)},n.state={error:null,isApiLoaded:!1,bookData:[],title:null},n}return Object(b.a)(a,[{key:"render",value:function(){console.log(this.state);var e=this.state,t=e.isApiLoaded,a=null;return null!=e.title&&t&&(a=o.a.createElement(f,{searchResultList:this.state.bookData,onSavingBook:this.props.onClickSaved,onMarkingBookAsRead:this.props.onClickRead})),o.a.createElement(o.a.Fragment,null,o.a.createElement(d,{onTitleSearch:this.handleSearch}),a)}}]),a}(o.a.Component);var h=function(e){function t(t){e.onClickRemoveBookFromSaved(t)}return o.a.createElement(o.a.Fragment,null,o.a.createElement("hr",null),o.a.createElement("p",{className:"header_subtext"},"Saved Books"),o.a.createElement("ul",{className:"container"},e.savedBooks.map((function(a,n){return o.a.createElement("li",{className:"li_no_bullets",key:n},o.a.createElement("p",{className:"book_title_text"},a.volumeInfo.title),o.a.createElement("p",{className:"book_author_text"},"Author(s): ",a.volumeInfo.authors),o.a.createElement("div",{className:"thumbnail"},o.a.createElement("a",{style:{display:"table-cell"},href:a.volumeInfo.infoLink,target:"_blank",rel:"noopener noreferrer"}," ",o.a.createElement("img",{src:void 0===a.volumeInfo.imageLinks?"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQXhzNKj_YNwD8fENvC1wGMxq6_zUxI1FmLvQ&usqp=CAU":a.volumeInfo.imageLinks.thumbnail,alt:"book cover thumbnail"})," ")),o.a.createElement("div",{className:"thumbnail"},o.a.createElement("button",{className:"book_button",onClick:function(){var n;n=a,e.onClickRead(n),t(a.volumeInfo.title)}},"Mark As Read"),o.a.createElement("button",{className:"book_button",onClick:function(){return t(a.volumeInfo.title)}},"Remove")))}))))};var k=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("hr",null),o.a.createElement("p",{className:"header_subtext"},"Read History"),o.a.createElement("ul",{className:"container"},e.completedBooks.map((function(t,a){return o.a.createElement("li",{className:"li_no_bullets",key:a},o.a.createElement("p",{className:"book_title_text"},t.volumeInfo.title),o.a.createElement("p",{className:"book_author_text"},"Author(s): ",t.volumeInfo.authors),o.a.createElement("div",{className:"thumbnail"},o.a.createElement("a",{style:{display:"table-cell"},href:t.volumeInfo.infoLink,target:"_blank",rel:"noopener noreferrer"}," ",o.a.createElement("img",{src:void 0===t.volumeInfo.imageLinks?"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQXhzNKj_YNwD8fENvC1wGMxq6_zUxI1FmLvQ&usqp=CAU":t.volumeInfo.imageLinks.thumbnail,alt:"book cover thumbnail"})," ")),o.a.createElement("div",{className:"thumbnail"},o.a.createElement("button",{className:"book_button",onClick:function(){return a=t.volumeInfo.title,void e.onClickRemoveBookFromCompleted(a);var a}},"Remove")))}))))},_=a(25),g=a(27),A=a(16),I=a(35),N=a(22);var S=function(e){var t=Object(g.g)();return o.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=e.currentTarget;if(a.password.value===a.password2.value){var n=Object(N.b)();Object(N.a)(n,a.email.value,a.password.value).then((function(e){console.log(e),t.push("/")})).catch((function(e){console.log(e)}))}else alert("Passwords don't match")}},o.a.createElement("div",null,"Email: ",o.a.createElement("input",{name:"email",type:"text"})),o.a.createElement("div",null,"Password: ",o.a.createElement("input",{name:"password",type:"password"})),o.a.createElement("div",null,"Confirm Password: ",o.a.createElement("input",{name:"password2",type:"password"})),o.a.createElement("button",{type:"submit"},"Sign Up"))};var C=function(e){var t=Object(g.g)();return o.a.createElement("form",{onSubmit:function(a){a.preventDefault();var n=a.currentTarget,o=Object(N.b)();Object(N.f)(o,n.email.value,n.password.value).then((function(a){var n=a.user;e.onSuccess(n),t.push("/")})).catch((function(e){console.log(e)}))}},o.a.createElement("div",null,"Email: ",o.a.createElement("input",{name:"email",type:"text"})),o.a.createElement("div",null,"Password: ",o.a.createElement("input",{name:"password",type:"password"})),o.a.createElement("button",{className:"button"},"Sign In"),o.a.createElement("div",{className:"top_link1"},o.a.createElement(_.b,{to:"/signin"},"Sign In")),o.a.createElement("div",{className:"top_link2"},o.a.createElement(_.b,{to:"/signup"},"Create Account")))};var R=function(e){var t=Object(g.g)();return Object(n.useEffect)((function(){var a=Object(N.b)();Object(N.g)(a).then((function(){console.log("logout"),e.onSuccess(),t.push("/login")})).catch((function(e){console.log(e)}))})),null};var j=function(){var e=Object(A.c)(Object(I.c)()),t=Object(n.useState)([]),a=Object(r.a)(t,2),l=a[0],c=a[1],s=Object(n.useState)([]),i=Object(r.a)(s,2),m=i[0],b=i[1],E=Object(n.useState)(null),v=Object(r.a)(E,2),d=v[0],f=v[1];function N(t,a){Object(A.g)(Object(A.a)(e,"savedbooks",t),{savedBooks:a}).then((function(){return console.log("success")})).catch((function(e){return console.error(e)}))}function j(t,a){Object(A.g)(Object(A.a)(e,"completedbooks",t),{completedBooks:a}).then((function(){return console.log("success")})).catch((function(e){return console.error(e)}))}var O=function(e){var t=m.concat(e);b(t),j(d,t)},y=null===d?o.a.createElement(_.b,{to:"/"},"Search"):o.a.createElement(o.a.Fragment,null,o.a.createElement(_.b,{to:"/"},"Search")," | ",o.a.createElement(_.b,{to:"/saved"},"Saved")," | ",o.a.createElement(_.b,{to:"/history"},"History")," ",o.a.createElement(_.b,{className:"sign_out",to:"/signout"},"Sign Out"));return o.a.createElement(I.b,{sdk:e},o.a.createElement(_.a,null,y,o.a.createElement(u,null),o.a.createElement("div",null,o.a.createElement(g.d,null,o.a.createElement(g.b,{path:"/signup"},o.a.createElement(S,null)),o.a.createElement(g.b,{path:"/signout"},o.a.createElement(R,{onSuccess:function(e){console.log(e),f(null),c([]),b([])}})),o.a.createElement(g.b,{path:"/signin"},o.a.createElement(C,{onSuccess:function(t){console.log(t),f(t.uid),function(t){Object(A.b)(Object(A.a)(e,"savedbooks",t)).then((function(e){e.exists()&&c(e.data().savedBooks)})).catch((function(e){return console.error(e)}))}(t.uid),function(t){Object(A.b)(Object(A.a)(e,"completedbooks",t)).then((function(e){e.exists()&&b(e.data().completedBooks)})).catch((function(e){return console.error(e)}))}(t.uid)}})),o.a.createElement(g.b,{path:"/saved"},o.a.createElement(h,{savedBooks:l,onClickRead:O,onClickRemoveBookFromSaved:function(e){var t=l.filter((function(t){return t.volumeInfo.title!==e}));c(t),N(d,t)}})),o.a.createElement(g.b,{path:"/history"},o.a.createElement(k,{completedBooks:m,onClickRemoveBookFromCompleted:function(e){var t=m.filter((function(t){return t.volumeInfo.title!==e}));b(t),j(d,t)}})),o.a.createElement(g.b,{path:"/"},null===d?o.a.createElement(g.a,{to:"/signin"}):o.a.createElement(p,{onClickSaved:function(e){var t=l.concat(e);c(t),N(d,t)},onClickRead:O}))))))},O=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,64)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,l=t.getLCP,c=t.getTTFB;a(e),n(e),o(e),l(e),c(e)}))},y={apiKey:"AIzaSyCDZQAJ_iOhjzcmzXG2vwPCMDuHpljW4bc",authDomain:"book-database-327119.firebaseapp.com",databaseURL:"https://book-database.firebaseio.com",projectId:"book-database-327119",storageBucket:"book-database-327119.appspot.com",messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/book-database",REACT_APP_GOOGLE_BOOKS_API_KEY:"AIzaSyCDZQAJ_iOhjzcmzXG2vwPCMDuHpljW4bc",REACT_APP_FIREBASE_API_KEY:"AIzaSyCDZQAJ_iOhjzcmzXG2vwPCMDuHpljW4bc",REACT_APP_FIREBASE_AUTH_DOMAIN:"book-database-327119.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://book-database.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"book-database-327119",REACT_APP_FIREBASE_STORAGE_BUCKET:"book-database-327119.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"1076999260820",REACT_APP_FIREBASE_APP_ID:"1:1076999260820:web:641b0bf80cfe6fdf808281"}).REACT_APP_FIREBASE_SENDER_ID,appId:"1:1076999260820:web:641b0bf80cfe6fdf808281"};c.a.render(o.a.createElement(I.a,{firebaseConfig:y},o.a.createElement(j,null)),document.getElementById("root")),O()}},[[52,1,2]]]);
//# sourceMappingURL=main.d06bacf2.chunk.js.map